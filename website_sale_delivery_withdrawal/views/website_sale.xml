<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="website_sale_delivery_withdrawal_payment_delivery_methods"
              inherit_id="website_sale_delivery.payment_delivery_methods">
        <xpath expr="." position="inside">
            <button type="button" class="btn btn-primary btn-sm float-right bg-primary">Select</button>
        </xpath>
    </template>

    <template id="website_sale_delivery_withdrawal_address_on_payment" inherit_id="website_sale.address_on_payment">
        <xpath expr="//div[@id='shipping_and_billing']" position="inside">
            <t t-if="order.commitment_hour_from and order.commitment_hour_to">
                <div class="o_delivery_carrier_schedule">
                    <b>Schedule:</b>
                    <span t-field="order.commitment_date" t-options='{"format": "d MMM yyyy"}' class="address-inline"/>
                    <span>from</span>
                    <span t-esc="order.commitment_hour_from" class="address-inline"/>
                    <span>to</span>
                    <span t-esc="order.commitment_hour_to" class="address-inline"/>
                </div>
            </t>
        </xpath>

        <xpath expr="//div[@id='delivery_carrier']" position="replace">
            <t t-set="delivery_nb" t-value="deliveries and len(deliveries) or 0"/>
            <div t-if="delivery_nb == 1 and not deliveries[0].is_withdrawal_point" id="delivery_carrier" class="mt4">
                <b>Shipping Method:</b>
                <t t-foreach="deliveries" t-as="delivery">
                    <t t-call="website_sale_delivery.payment_delivery_methods"/>
                </t>
            </div>
        </xpath>
    </template>


    <template id="payment_delivery_withdrawal_inherit" inherit_id="website_sale_delivery.payment_delivery">
        <xpath expr="//div[@id='delivery_carrier']" position="replace">
            <div t-if="deliveries" id="delivery_carrier">
                <t t-set="delivery_nb" t-value="len(deliveries)"/>
                <h3 t-if="delivery_nb &gt; 1" class="mb24">Choose a delivery method</h3>
                <div t-if="delivery_nb &gt; 1" class="card border-0" id="delivery_method">
                    <ul class="list-group">
                        <t t-foreach="deliveries" t-as="delivery">
                            <li class="list-group-item o_delivery_carrier_select">
                                <t t-call="website_sale_delivery.payment_delivery_methods"/>
                            </li>
                        </t>
                    </ul>
                </div>
                <h3 t-if="delivery_nb == 1 and deliveries[0].is_withdrawal_point" class="mb24">Choose a delivery
                    method
                </h3>
                <div t-if="delivery_nb == 1 and deliveries[0].is_withdrawal_point" class="card border-0"
                     id="delivery_method">
                    <ul class="list-group">
                        <t t-foreach="deliveries" t-as="delivery">
                            <li class="list-group-item o_delivery_carrier_select">
                                <t t-call="website_sale_delivery.payment_delivery_methods"/>
                            </li>
                        </t>
                    </ul>
                </div>
            </div>
        </xpath>
    </template>


    <template id="website_sale_delivery_withdrawal_confirmation" inherit_id="website_sale.confirmation">
        <xpath expr="//div[hasclass('card-body')]" position="inside">
            <div class="o_delivery_carrier_schedule" t-if="order.commitment_hour_from and order.commitment_hour_to"
                 groups="sale.group_delivery_invoice_address">
                <b>Schedule:</b>
                <span t-field="order.commitment_date" t-options='{"format": "d MMM yyyy"}' class="address-inline"/>
                <span>from</span>
                <span t-esc="order.commitment_hour_from" class="address-inline"/>
                <span>to</span>
                <span t-esc="order.commitment_hour_to" class="address-inline"/>
            </div>
        </xpath>
    </template>
</odoo>